import pandas as pd
import re

def print_dataframes_grouped_by_slit(df):
    # Regex to parse the column name
    pattern = re.compile(r"slit_(-?\d+(?:\.\d+)?)_(\w+)")

    # Temporary structure: {slit_number: {categorytype: [column names]}}
    slit_groups = {}

    for col in df.columns:
        match = pattern.fullmatch(col)
        if match:
            slit = float(match.group(1))
            category = match.group(2)
            if slit not in slit_groups:
                slit_groups[slit] = {}
            if category not in slit_groups[slit]:
                slit_groups[slit][category] = []
            slit_groups[slit][category].append(col)

    # Process in order of increasing slit number
    for slit in sorted(slit_groups):
        print(f"\n=== Slit: {slit} ===")
        category_dict = slit_groups[slit]
        for category in sorted(category_dict):  # sort categories alphabetically
            print(f"\n-- Category: {category} --")
            columns = category_dict[category]
            print(df[columns])