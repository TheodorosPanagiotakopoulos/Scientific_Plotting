import pandas as pd
import re

def print_sorted_by_categorytype(df):
    # Dictionary to group columns by categorytype
    grouped_columns = {}

    # Parse each column name and categorize
    pattern = re.compile(r"slit_(-?\d+(?:\.\d+)?)_(\w+)")
    for col in df.columns:
        match = pattern.fullmatch(col)
        if match:
            number = float(match.group(1))
            categorytype = match.group(2)
            if categorytype not in grouped_columns:
                grouped_columns[categorytype] = []
            grouped_columns[categorytype].append((number, col))

    # Process and print each group
    for categorytype, col_list in grouped_columns.items():
        # Sort columns by number
        sorted_cols = sorted(col_list, key=lambda x: x[0])
        print(f"=== Category: {categorytype} ===")
        for number, col_name in sorted_cols:
            print(f"\nslit_{number}_{categorytype}")
            print(df[col_name])
        print("\n" + "-" * 40 + "\n")