#!/bin/bash

delete_tachyon_jobs() {
    # Get the current working directory
    current_dir=$(pwd)

    # Extract base path up to /TCC
    base_path=$(echo "$current_dir" | awk -F'/TCC/' '{print $1"/TCC"}')

    # Extract the two subdirectories after /TCC
    sub_path=$(echo "$current_dir" | awk -F'/TCC/' '{print $2}' | cut -d'/' -f1,2)

    # Construct the root for deletion
    root_path="${base_path}/${sub_path}"

    for i in 1 2 3 4 5 6 7 8 9 10 11 12 24
    do
        target="${root_path}/TCC_${i}/model_check/h/work"
        rm -rf "$target"
        echo "tachyonjob $i deleted"
    done
}

# Run the function
delete_tachyon_jobs
